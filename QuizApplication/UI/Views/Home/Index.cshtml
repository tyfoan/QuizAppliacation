@model IEnumerable<UI.Models.ViewModels.SubjectViewModel>

@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>Quiz application</h1>
    <p class="lead">Проверьте свои знания</p>
    <p><a href="@Url.Action("List", "Catalog")" class="btn btn-primary btn-lg">Пройти тестирование  &raquo;</a></p>
</div>

<div class="row">

    <div class="col-md-8 col-md-offset-2">
        <h1>News</h1>
        <h2>Недавно добавленные предметы</h2>
        <table class="table">
            <tr>
                <th>
                    Название предмета
                </th>
                <th>
                    Количество тестов
                </th>
                <th>
                    Тесты
                </th>
            </tr>
            @{
                int lessThan = 0;
            }
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @item.Tests.Count
                    </td>
                    <td>
                        @foreach (var nestItem in item.Tests)
                        {
                            if (lessThan <= 2)
                            {
                                <span>- </span>@Html.DisplayFor(modelItem => nestItem.Name)
                                <br />
                            }
                            else
                            {
                                lessThan = 0;
                                break;
                            }
                            lessThan += 1;
                        }
                    </td>
                </tr>
            }
        </table>
        <p><a class="btn btn-default" href="@Url.Action("List","Catalog")">Learn more &raquo;</a></p>
    </div>
    @*@*<div class="col-md-8 col-md-offset-2">
        <h2>Недавно добавленные тесты</h2>
        <table class="table">
            <tr>
                <th>
                    Название теста
                </th>
                <th>
                    Количество вопросов
                </th>
                <th>
                    Сложность теста
                </th>
            </tr>
            @foreach (var item in Model)
            {
                foreach (var item1 in item.Tests)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item1.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item1.Questions.Count)
                        </td>
                        <td>
                            @item1.Complexity

                        </td>
                    </tr>
                }
            }
        </table>*@

    @*<p><a class="btn btn-default" href="#">Learn more &raquo;</a></p>*@
</div>